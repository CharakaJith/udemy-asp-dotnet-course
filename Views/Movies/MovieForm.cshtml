@model Vidly.Models.ViewModels.MovieFormViewModel

@{
    ViewBag.Title = Model.Movie.MovieId == 0 ? "Add New Movie" : "Edit Movie";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="d-flex justify-content-center align-items-center" style="min-height: 80vh;">
    <div class="card shadow-lg p-4" style="max-width: 500px; width: 100%; border-radius: 12px;">
        <!-- Form Heading -->
        <div class="text-center mb-4">
            <h1 class="fw-bold">@ViewBag.Title</h1>
        </div>

        @using (Html.BeginForm("SaveMovie", "Movies"))
        {
            @Html.AntiForgeryToken()
            @Html.ValidationSummary(true, "", new { @style = "color: red; font-weight: bold;" })

            <!-- Movie Title -->
            <div class="mb-3">
                @Html.LabelFor(m => m.Movie.Title, new { @class = "form-label fw-semibold" })
                @Html.TextBoxFor(m => m.Movie.Title, new { @class = "form-control", placeholder = "Enter movie title" })
                @Html.ValidationMessageFor(m => m.Movie.Title, "", new { @style = "color: red; font-weight: bold;" })
            </div>

            <!-- Released Date -->
            <div class="mb-3">
                @Html.LabelFor(m => m.Movie.ReleasedDate, new { @class = "form-label fw-semibold" })
                @Html.TextBoxFor(m => m.Movie.ReleasedDate, "{0:yyyy-MM-dd}", new { @class = "form-control", type = "date" })
                @Html.ValidationMessageFor(m => m.Movie.ReleasedDate, "", new { @style = "color: red; font-weight: bold;" })
            </div>

            <!-- Genre Dropdown -->
            <div class="mb-3">
                @Html.LabelFor(m => m.Movie.GenreId, new { @class = "form-label fw-semibold" })
                @Html.DropDownListFor(
                    m => m.Movie.GenreId,
                    new SelectList(Model.Genres, "GenreId", "Name", Model.Movie.GenreId),
                    "Select Movie Genre",
                    new { @class = "form-control" })
                @Html.ValidationMessageFor(m => m.Movie.GenreId, "", new { @style = "color: red; font-weight: bold;" })
            </div>

            <!-- Number in Stock -->
            <div class="mb-3">
                @Html.LabelFor(m => m.Movie.NumInStock, new { @class = "form-label fw-semibold" })
                @Html.TextBoxFor(m => m.Movie.NumInStock, new { @class = "form-control", type = "number", placeholder = "Enter number in stocks" })
                @Html.ValidationMessageFor(m => m.Movie.NumInStock, "", new { @style = "color: red; font-weight: bold;" })
            </div>

            @Html.HiddenFor(m => m.Movie.MovieId)
            <button type="submit" class="btn btn-primary w-100 mt-3">Save</button>
        }
    </div>
</div>
